.addbox-wrapper{ ng_show: "m.userOwnsPlan() && m.plan() && m.mode != 'trip' && !m.settingsBoxToggled && !(m.mainMenuToggled && m.mobile) && !m.rename" }

  / .minimize-maximize-addbox{ ng_show: 'items.length', ng_click: "addBoxToggle()", ng_class: "{'opened': addBoxToggled}" }
  /   %i.fa{ ng_class: "{'fa-caret-up': addBoxToggled, 'fa-caret-down': !addBoxToggled}" }

  .addbox-on-plan-page{ ng_show: "m.addBoxToggled" }
    .input-and-results{ ng_show: '!m.nearby && m.plan()' }
      %input#place-nearby{ name: "place-nearby", type: 'text', placeholder: 'Explore what city or region?', ng_model: 'placeNearby', ng_change: 'searchPlaceNearby()', ng_on_enter_key: 'setNearBestOption()', ng_on_esc_key: 'placeNearby=null', ng_keyup: 'm.handleKeyup()', ng_keydown: 'm.handleKeydown()' }   
      %ul.suggested-results.blue{ ng_show: '!m.typing && placeNearby && placeNearby.length > 1 && ( placeNearbyWorking || m.placeNearbyOptions.length>0 )' }
        %li.search-results-list{ ng_class: "nearbySearchResultClass(option, $index)", ng_repeat: 'option in m.placeNearbyOptions', ng_click: 'm.setNearby(option)' }
          %b {{ option.name }}
          {{ option.qualifiers }}
        %li.search-results-working{ ng_show: 'placeNearbyWorking>0' } Working on it...
        %li.search-results-working{ ng_show: 'noPlaceNearbyResults()' } Can't find that...
      %span.set-location-reminder{ ng_show: '!placeNearby || !placeNearby.length>1' } 
        %i.fa.fa-arrow-left 
        %span.largest-screen.inline Set
        %span.large-screen.inline Location
        
    .input-and-results{ ng_show: 'm.nearby && m.plan()' }
      %input#place-name{ name: "place-name", type: 'text', placeholder: 'What do you want to add in {{ m.nearby.name }}?', ng_model: 'placeName', ng_change: 'placeNameSearch()', ng_on_enter_key: "lazyAddItem()", ng_on_esc_key: "placeName=null", ng_keyup: 'm.handleKeyup()', ng_keydown: 'm.handleKeydown()' }

      %ul.suggested-results.neon{ ng_show: '!m.typing && placeName && placeName.length>1' }
        %li.search-results-list{ ng_repeat: 'option in m.placeNameOptions', ng_click: 'addItem(option)', ng_class: 'placeNameOptionClass(option, $index)' }
          .bucket-list-tab
            %a{ ng_href: '{{option.href}}', target: '_self' }
              .bucket-list-no-img{ ng_show: "!option.image_url" }
              .bucket-list-img{ ng_show: "option.image_url", style: "background-image: url('{{ option.image_url }}');" }
            .bucket-list-wrap
              .bucket-list-profile
                %a{ target: '_self' }
                  .bucket-list-title
                    {{ option.names[0] }}
                  .foursquare-and-info-wrap
                    %span.mini-foursquare-icon{ ng_show: "option.foursquare_icon", style: "background-image: url('{{ option.foursquare_icon }}');" }
                    .bucket-list-more-info
                      {{ option.categories.join(', ') }}
                    .bucket-list-more-info.locale-only
                      {{ option.localeDetails() }}
        %li.search-results-working{ ng_show: 'placeNameWorking>0' } Working on it...
        %li.search-results-reset{ ng_show: 'noPlaceNameResults()', ng_click: 'resetNearby()' }
          %b No results... 
          not looking in 
          %b {{ nearbyToReset() }}
          ?
      %span.reset-location{ ng_show: '!placeName || !placeName.length>1 || noPlaceNameResults()', ng_click: 'resetNearby()' } 
        %i.fa.fa-times 
        %span.large-screen.inline Location